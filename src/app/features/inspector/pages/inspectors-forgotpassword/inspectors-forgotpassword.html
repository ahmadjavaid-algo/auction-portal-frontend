<!-- src/app/pages/inspector/inspectors-forgotpassword/inspectors-forgotpassword.html -->
<div class="login-container forgot-container">
  <!-- Purple Gradient Background with Wave -->
  <div class="background-wave">
    <svg viewBox="0 0 1440 320" preserveAspectRatio="none">
      <path
        fill="url(#gradient)"
        d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,154.7C960,171,1056,181,1152,165.3C1248,149,1344,107,1392,85.3L1440,64L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"
      ></path>
      <defs>
        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#6b46c1;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
        </linearGradient>
      </defs>
    </svg>
  </div>

  <!-- Main Content -->
  <div class="content-wrapper">
    <!-- Logo Section -->
    <div class="logo-section">
      <img
        src="https://media.licdn.com/dms/image/v2/C560BAQGJ-j7r23Z79Q/company-logo_200_200/company-logo_200_200/0/1656698792543/algoai_logo?e=2147483647&v=beta&t=QaHGa0R70yu1J352TZfGUk4z2PUigcta-pMyLIznFG8"
        alt="Algo Logo"
        class="main-logo"
      />
      <div class="welcome-text">
        <span>Forgot</span>
        <span class="wave-emoji">üîê</span>
        <span>Password?</span>
      </div>
    </div>

    <!-- Forgot Password Card -->
    <div class="login-section">
      <div class="login-card forgot-card">
        <h1>Forgot password</h1>
        <p class="subtitle">
          Enter the email linked to your inspector account and we‚Äôll send you a password reset link.
        </p>

        <!-- Success state -->
        <ng-container *ngIf="sent; else formTpl">
          <div class="success-card">
            <div class="success-icon">‚úì</div>
            <h2>Check your inbox</h2>
            <p class="success-text">
              If an account exists for <strong>{{ email }}</strong>, you‚Äôll receive an email with instructions to reset your password.
            </p>
            <button class="primary-btn" type="button" (click)="backToLogin()">
              Back to sign in
            </button>
          </div>
        </ng-container>

        <!-- Form state -->
        <ng-template #formTpl>
          <!-- Error Message -->
          <div class="error-message" *ngIf="error && !loading">
            {{ error }}
          </div>

          <form (ngSubmit)="submit()">
            <!-- Email Field -->
            <div class="form-group">
              <label for="email">Email address</label>
              <input
                id="email"
                type="email"
                [(ngModel)]="email"
                name="email"
                placeholder="Enter your registered email"
                autocomplete="email"
                [disabled]="loading"
                required
              />
            </div>

            <!-- Submit Button -->
            <button type="submit" class="login-button primary-btn" [disabled]="loading">
              <mat-spinner *ngIf="loading" diameter="20"></mat-spinner>
              <span *ngIf="!loading">Send reset link</span>
            </button>

            <!-- Back to login -->
            <div class="back-row">
              <a routerLink="/inspector/login" (click)="$event.preventDefault(); backToLogin()">
                ‚Üê Back to sign in
              </a>
            </div>
          </form>
        </ng-template>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer-note">
      ¬© {{ currentYear }} Algo Auction Portal
    </footer>
  </div>
</div>
