:host { display:block; }


.stats-strip {
  display: grid;
  grid-template-columns: repeat(4, minmax(220px, 1fr));
  gap: 18px;
  margin-bottom: 22px;

  .stat-card {
    display: grid;
    grid-template-columns: 44px 1fr;
    gap: 12px;
    align-items: center;
    padding: 16px;
    border-radius: 18px;
    background: var(--surface);
    border: 1px solid #eef1ff;
    box-shadow: var(--shadow-1);

    .icon-wrap {
      width: 44px; height: 44px; border-radius: 12px;
      display: grid; place-items: center;
      background: #f1f5ff; box-shadow: inset 0 0 0 1px #e2e8ff;
    }
    mat-icon { font-size: 24px; width: 24px; height: 24px; color: var(--brand-700); }

    .value { font-size: 22px; font-weight: 800; line-height: 1.1; color: var(--text-1); }
    .label { font-size: 12px; color: var(--text-2); margin-top: 2px; }

    &.system   .icon-wrap { background: rgba(168,85,247,.14); box-shadow: inset 0 0 0 1px rgba(147,51,234,.28); }
    &.total    .icon-wrap { background: rgba(37,99,235,.10);  box-shadow: inset 0 0 0 1px rgba(37,99,235,.25); }
    &.active   .icon-wrap { background: rgba(245,158,11,.12); box-shadow: inset 0 0 0 1px rgba(245,158,11,.28); }
    &.inactive .icon-wrap { background: rgba(239,68,68,.12);  box-shadow: inset 0 0 0 1px rgba(239,68,68,.25); }
  }
}


.role-header{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; margin-bottom:16px; flex-wrap:wrap;

  .search-field{ flex:1; max-width:420px; min-width:260px; }
  ::ng-deep .mat-mdc-form-field-infix{ padding-top:10px; padding-bottom:10px; }

  .add-btn{
    background: linear-gradient(135deg, var(--primary-500), var(--teal-500));
    color:#fff; font-weight:700; padding:10px 14px; border-radius:12px;
    box-shadow: var(--shadow-1);
    display:inline-flex; align-items:center; gap:8px;
    transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
    &:hover{ transform:translateY(-1px); filter:brightness(1.05); box-shadow: var(--shadow-2); }
    mat-icon{ color:#fff; }
  }
}


.panel{
  background: var(--surface);
  border:1px solid #eef1ff;
  border-radius:18px;
  box-shadow: var(--shadow-1);
  overflow:hidden;
}


.full-width-table{ width:100%; }

:host ::ng-deep .mat-mdc-table{ background:transparent; }
:host ::ng-deep .mat-mdc-header-row{ background:#f3f6ff; }
:host ::ng-deep .mat-mdc-header-cell{
  font-weight:800; color:#111827; letter-spacing:.2px;
}
:host ::ng-deep .mat-mdc-row:hover{ background:#f8faff; }

td, th{ padding:14px 12px !important; text-align:left; }
.thin{ width:44px; }

.role-cell .name{ font-weight:700; color:#0f172a; }
.role-cell .sub{ color:#6b7280; font-size:12px; margin-top:2px; }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; color:#111827; }


.expand-btn{ transform: translateY(-1px); }
.role-row:hover .expand-btn mat-icon{ transform: scale(1.05); transition: transform .15s ease; }


.edit-btn{ color: var(--blue-500); }


:host ::ng-deep .mat-mdc-stroked-button{
  border-radius:999px !important; padding:2px 14px !important; border-width:2px !important; font-weight:800 !important;
}
button.is-active{   border-color:#22c55e !important; color:#1f8a43 !important; background:rgba(34,197,94,.10); }
button.is-inactive{ border-color:#ef4444 !important; color:#6b7280 !important; background:rgba(239,68,68,.06); }


::ng-deep tr.expanded-row.mat-mdc-row,
::ng-deep tr.expanded-row.mdc-data-table__row { height:auto !important; }

::ng-deep tr.expanded-row .mat-mdc-cell,
::ng-deep tr.expanded-row .mdc-data-table__cell{
  padding:0 !important; border-bottom:0 !important; background:transparent !important;
}

.expanded-wrapper{
  margin:0; padding:0; width:100%; display:block; background:transparent;
}


.list-footer{
  display:flex; align-items:center; justify-content:space-between; margin-top:10px; padding:8px 2px;
  .count{ color:#5f6368; font-size:13px; }
  ::ng-deep .mat-mdc-paginator .mat-mdc-paginator-container{ justify-content:flex-start; }
}

.muted{ color:#7a7a7a; }
