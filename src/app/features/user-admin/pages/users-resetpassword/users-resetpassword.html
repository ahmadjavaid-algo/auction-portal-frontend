<div class="login-container">
  <div class="login-form">
    <div class="brand-head">
      <img
        class="logo"
        src="https://media.licdn.com/dms/image/v2/C560BAQGJ-j7r23Z79Q/company-logo_200_200/company-logo_200_200/0/1656698792543/algoai_logo?e=2147483647&v=beta&t=QaHGa0R70yu1J352TZfGUk4z2PUigcta-pMyLIznFG8"
        alt="Algo Auction Portal"
      />
      <span class="brand-name">Algo Auction Portal</span>
    </div>

    <h2>Reset password</h2>
    <p class="subtitle">Choose a new password for your account.</p>

    <form [formGroup]="form" (ngSubmit)="submit()">
      <label>Email</label>
      <input type="email" formControlName="email" readonly />
      <div class="hint">We’ll reset the password for this email.</div>

      <label>New password</label>
      <input type="password" formControlName="password" />
      <div class="error" *ngIf="f.password.touched && f.password.hasError('required')">
        Password is required.
      </div>
      <div class="error" *ngIf="f.password.touched && f.password.hasError('minlength')">
        Must be at least 6 characters.
      </div>

      <label>Confirm password</label>
      <input type="password" formControlName="confirm" />
      <div class="error" *ngIf="f.confirm.touched && f.confirm.hasError('required')">
        Please confirm your password.
      </div>
      <div class="error" *ngIf="f.confirm.touched && f.confirm.value && f.confirm.value !== f.password.value">
        Passwords do not match.
      </div>

      <!-- Hidden but submitted field -->
      <input type="hidden" formControlName="code" />

      <div class="form-msg" *ngIf="error">{{ error }}</div>
      <div class="form-msg ok" *ngIf="success">Password updated. Redirecting to login…</div>

      <button type="submit" class="primary-btn" [disabled]="loading || form.invalid">
        {{ loading ? 'Updating…' : 'Reset password' }}
      </button>

      <div class="extra-links">
        <a routerLink="/admin/login">Back to login</a>
      </div>
    </form>
  </div>

  <div class="login-illustration">
    <img
      src="https://media.istockphoto.com/id/1169397243/vector/human-resources-concept-vector-illustration.jpg?s=612x612&w=0&k=20&c=IwFeMVZa7OVr65_NsHu2zhhOOWYLJj3BuTI1hdVtb7w="
      alt="Security illustration"
    />
  </div>
</div>
